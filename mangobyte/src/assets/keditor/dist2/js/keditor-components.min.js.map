{"version":3,"sources":["keditor-components.js"],"names":["$","KEditor","keditor","flog","log","components","getContent","component","componentContent","children","audio","find","unwrap","html","settingEnabled","settingTitle","initSettingForm","form","append","showSettingForm","options","fileInput","btnAudioFileInput","off","on","e","preventDefault","trigger","file","this","files","test","type","attr","URL","createObjectURL","load","showSettingPanel","alert","autoplayToggle","checked","removeAttr","showcontrolsToggle","audioWidth","css","value","jQuery","initFormBuilder","self","formBuilderArea","formData","formContent","prepend","btnEditForm","btnPreviewForm","formBuilder","disableInjectedStyle","showActionButtons","dataType","disableFields","disabledAttrs","typeUserDisabledAttrs","checkbox-group","hasClass","show","hide","addClass","removeClass","renderForm","data","formRender","actions","getData","each","div","dataGrid","split","wrap","label","input","subDiv","length","init","contentArea","container","remove","getSettingComponent","layout","val","iframe","wrapper","parent","initIframeCover","btnEdit","inputData","prompt","src","btn169","btn43","img","photoEdit","next","reader","FileReader","addEventListener","target","result","width","height","readAsDataURL","inputAlign","panel","inputResponsive","cbbStyle","inputWidth","inputHeight","newWidth","newHeight","Math","round","ratio","algin","prop","CKEDITOR","disableAutoInline","toolbarGroups","name","groups","title","allowedContent","bodyId","templates_replaceContent","enterMode","forceEnterMode","format_tags","removePlugins","removeButtons","minimumChangeMilliseconds","onComponentChanged","call","onContainerChanged","onContentChanged","editor","ckeditor","onComponentReady","id","instances","destroy","video","is","btnVideoFileInput","removeProp","loopToggle","currentWidth","replace","currentRatio","videoWidth","vimeoRegex","match","chkAutoplay","embedItem","currentUrl","newUrl","indexOf","youtubeRegex"],"mappings":"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","file":"keditor-components.min.js","sourcesContent":["(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n    \r\n    KEditor.components['audio'] = {\r\n        getContent: function (component, keditor) {\r\n            flog('getContent \"audio\" component, component');\r\n            \r\n            var componentContent = component.children('.keditor-component-content');\r\n            var audio = componentContent.find('audio');\r\n            audio.unwrap();\r\n            \r\n            return componentContent.html();\r\n        },\r\n        \r\n        settingEnabled: true,\r\n        \r\n        settingTitle: 'Audio Settings',\r\n        \r\n        initSettingForm: function (form, keditor) {\r\n            flog('init \"audio\" settings', form);\r\n            \r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '     <div class=\"form-group\">' +\r\n                '         <label for=\"audioFileInput\" class=\"col-sm-12\">Audio file</label>' +\r\n                '         <div class=\"col-sm-12\">' +\r\n                '             <div class=\"audio-toolbar\">' +\r\n                '                 <a href=\"#\" class=\"btn-audioFileInput btn btn-sm btn-primary\"><i class=\"fa fa-upload\"></i></a>' +\r\n                '                 <input id=\"audioFileInput\" type=\"file\" style=\"display: none\" />' +\r\n                '             </div>' +\r\n                '         </div>' +\r\n                '     </div>' +\r\n                '     <div class=\"form-group\">' +\r\n                '         <label for=\"audio-autoplay\" class=\"col-sm-12\">Autoplay</label>' +\r\n                '         <div class=\"col-sm-12\">' +\r\n                '             <input type=\"checkbox\" id=\"audio-autoplay\" />' +\r\n                '         </div>' +\r\n                '     </div>' +\r\n                '     <div class=\"form-group\">' +\r\n                '         <label for=\"audio-showcontrols\" class=\"col-sm-12\">Show Controls</label>' +\r\n                '         <div class=\"col-sm-12\">' +\r\n                '             <input type=\"checkbox\" id=\"audio-showcontrols\" checked />' +\r\n                '         </div>' +\r\n                '     </div>' +\r\n                '     <div class=\"form-group\">' +\r\n                '         <label for=\"audio-width\" class=\"col-sm-12\">Width (%)</label>' +\r\n                '         <div class=\"col-sm-12\">' +\r\n                '             <input type=\"number\" id=\"audio-width\" min=\"20\" max=\"100\" class=\"form-control\" value=\"100\" />' +\r\n                '         </div>' +\r\n                '     </div>' +\r\n                '</form>'\r\n            );\r\n        },\r\n        \r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"audio\" component', form, component);\r\n            \r\n            var options = keditor.options;\r\n            \r\n            var audio = component.find('audio');\r\n            var fileInput = form.find('#audioFileInput');\r\n            var btnAudioFileInput = form.find('.btn-audioFileInput');\r\n            btnAudioFileInput.off('click').on('click', function (e) {\r\n                e.preventDefault();\r\n                \r\n                fileInput.trigger('click');\r\n            });\r\n            fileInput.off('change').on('change', function () {\r\n                var file = this.files[0];\r\n                if (/audio/.test(file.type)) {\r\n                    // Todo: Upload to your server :)\r\n                    \r\n                    audio.attr('src', URL.createObjectURL(file));\r\n                    \r\n                    audio.load(function () {\r\n                        keditor.showSettingPanel(component, options);\r\n                    });\r\n                } else {\r\n                    alert('Your selected file is not an audio file!');\r\n                }\r\n            });\r\n            \r\n            var autoplayToggle = form.find('#audio-autoplay');\r\n            autoplayToggle.off('click').on('click', function (e) {\r\n                if (this.checked) {\r\n                    audio.attr('autoplay', 'autoplay');\r\n                } else {\r\n                    audio.removeAttr('autoplay');\r\n                }\r\n            });\r\n            \r\n            var showcontrolsToggle = form.find('#audio-showcontrols');\r\n            showcontrolsToggle.off('click').on('click', function (e) {\r\n                if (this.checked) {\r\n                    audio.attr('controls', 'controls');\r\n                } else {\r\n                    audio.removeAttr('controls');\r\n                }\r\n            });\r\n            \r\n            var audioWidth = form.find('#audio-width');\r\n            audioWidth.off('change').on('change', function () {\r\n                audio.css('width', this.value + '%');\r\n            });\r\n        }\r\n    };\r\n})(jQuery);\r\n\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n    \r\n    KEditor.components['form'] = {\r\n        initFormBuilder: function (component) {\r\n            var self = this;\r\n            \r\n            var formBuilderArea = component.find('.form-builder-area');\r\n            var formData = component.find('.form-data');\r\n            var formContent = component.find('.form-content');\r\n            \r\n            component.find('.keditor-component-content').prepend(\r\n                '<p class=\"form-builder-tools\" style=\"text-align: right;\">' +\r\n                '    <a href=\"#\" class=\"btn btn-primary btn-preview-form\">Preview form</a> ' +\r\n                '    <a href=\"#\" class=\"btn btn-info btn-edit-form disabled\">Edit form</a>' +\r\n                '</p>'\r\n            );\r\n            \r\n            var btnEditForm = component.find('.btn-edit-form');\r\n            var btnPreviewForm = component.find('.btn-preview-form');\r\n            \r\n            formBuilderArea.formBuilder({\r\n                disableInjectedStyle: true,\r\n                showActionButtons: false,\r\n                dataType: 'json',\r\n                formData: formData.html(),\r\n                disableFields: [\r\n                    'autocomplete',\r\n                    'paragraph',\r\n                    'header'\r\n                ],\r\n                disabledAttrs: ['access'],\r\n                \r\n                typeUserDisabledAttrs: {\r\n                    'checkbox-group': [\r\n                        'toggle',\r\n                        'inline'\r\n                    ]\r\n                }\r\n            });\r\n            \r\n            btnEditForm.on('click', function (e) {\r\n                e.preventDefault();\r\n                \r\n                if (!btnEditForm.hasClass('disabled')) {\r\n                    formBuilderArea.show();\r\n                    formContent.hide();\r\n                    btnEditForm.addClass('disabled');\r\n                    btnPreviewForm.removeClass('disabled');\r\n                }\r\n            });\r\n            \r\n            btnPreviewForm.on('click', function (e) {\r\n                e.preventDefault();\r\n                \r\n                if (!btnPreviewForm.hasClass('disabled')) {\r\n                    self.renderForm(component);\r\n                    \r\n                    formBuilderArea.hide();\r\n                    formContent.show();\r\n                    btnEditForm.removeClass('disabled');\r\n                    btnPreviewForm.addClass('disabled');\r\n                }\r\n            });\r\n        },\r\n        \r\n        renderForm: function (component, formBuilder) {\r\n            var formContent = component.find('.form-content');\r\n            \r\n            if (!formBuilder) {\r\n                var formBuilderArea = component.find('.form-builder-area');\r\n                formBuilder = formBuilderArea.data('formBuilder');\r\n            }\r\n            \r\n            formContent.formRender({\r\n                dataType: 'json',\r\n                formData: formBuilder.actions.getData('json')\r\n            });\r\n            \r\n            if (formContent.hasClass('form-horizontal')) {\r\n                formContent.children('div').each(function () {\r\n                    var div = $(this);\r\n                    var dataGrid = formContent.attr('data-grid') || '4-8';\r\n                    dataGrid = dataGrid.split('-');\r\n                    \r\n                    if (div.attr('class')) {\r\n                        if (div.hasClass('fb-button')) {\r\n                            div.find('button').wrap('<div class=\"col-sm-' + dataGrid[1] + ' col-sm-offset-' + dataGrid[0] + '\"></div>');\r\n                        } else {\r\n                            var label = div.children('label');\r\n                            var input = div.children('input, select, textarea');\r\n                            var subDiv = div.children('div');\r\n                            \r\n                            label.addClass('control-label col-sm-' + dataGrid[0]);\r\n                            \r\n                            if (subDiv.length > 0) {\r\n                                subDiv.addClass('col-sm-' + dataGrid[1]);\r\n                            } else {\r\n                                input.addClass('form-control').wrap('<div class=\"col-sm-' + dataGrid[1] + '\"></div>');\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        \r\n        init: function (contentArea, container, component, keditor) {\r\n            flog('init \"form\" component', component);\r\n            \r\n            var componentContent = component.find('.keditor-component-content');\r\n            var formBuilder = component.find('.form-builder-area');\r\n            var formContent = component.find('.form-content');\r\n            var formData = component.find('.form-data');\r\n            \r\n            if (formData.length === 0) {\r\n                componentContent.append('<div class=\"form-data\" style=\"display: none !important;\"></div>')\r\n            }\r\n            \r\n            if (formContent.length === 0) {\r\n                componentContent.append('<form class=\"form-content\" style=\"display: none !important;\"></form>')\r\n            } else {\r\n                formContent.hide()\r\n            }\r\n            \r\n            if (formBuilder.length === 0) {\r\n                formBuilder = $('<div class=\"form-builder-area clearfix\"></div>');\r\n                componentContent.append(formBuilder);\r\n            }\r\n            \r\n            this.initFormBuilder(component);\r\n        },\r\n        \r\n        getContent: function (component, keditor) {\r\n            flog('getContent \"form\" component', component);\r\n            \r\n            var self = this;\r\n            var componentContent = component.find('.keditor-component-content');\r\n            var formData = component.find('.form-data');\r\n            var formBuilderArea = $('#' + component.attr('id')).find('.form-builder-area');\r\n            var formBuilder = formBuilderArea.data('formBuilder');\r\n            \r\n            self.renderForm(component, formBuilder);\r\n            formData.html(formBuilder.actions.getData('json'));\r\n            component.find('.form-builder-area, .form-builder-tools').remove();\r\n            component.find('.form-content').show();\r\n            \r\n            return componentContent.html();\r\n        },\r\n        \r\n        settingEnabled: true,\r\n        \r\n        settingTitle: 'Form Settings',\r\n        \r\n        initSettingForm: function (form, keditor) {\r\n            flog('initSettingForm \"form\" component');\r\n            \r\n            var self = this;\r\n            \r\n            form.html(\r\n                '<div class=\"form-horizontal\">' +\r\n                '    <div class=\"form-group\">' +\r\n                '        <label class=\"col-sm-12\">Action</label>' +\r\n                '        <div class=\"col-sm-12\">' +\r\n                '            <input type=\"text\" class=\"form-control txt-form-action\" />' +\r\n                '        </div>' +\r\n                '    </div>' +\r\n                '    <div class=\"form-group\">' +\r\n                '        <label class=\"col-sm-12\">Method</label>' +\r\n                '        <div class=\"col-sm-12\">' +\r\n                '            <select class=\"form-control select-method\">' +\r\n                '                <option value=\"get\">Get</option>' +\r\n                '                <option value=\"post\">Post</option>' +\r\n                '                <option value=\"put\">Put</option>' +\r\n                '                <option value=\"delete\">Delete</option>' +\r\n                '            </select>' +\r\n                '        </div>' +\r\n                '    </div>' +\r\n                '    <div class=\"form-group\">' +\r\n                '        <label class=\"col-sm-12\">Enctype</label>' +\r\n                '        <div class=\"col-sm-12\">' +\r\n                '            <select class=\"form-control select-enctype\">' +\r\n                '                <option value=\"text/plain\">text/plain</option>' +\r\n                '                <option value=\"multipart/form-data\">multipart/form-data</option>' +\r\n                '                <option value=\"application/x-www-form-urlencoded\">application/x-www-form-urlencoded</option>' +\r\n                '            </select>' +\r\n                '        </div>' +\r\n                '    </div>' +\r\n                '    <div class=\"form-group\">' +\r\n                '        <label class=\"col-sm-12\">Layout</label>' +\r\n                '        <div class=\"col-sm-12\">' +\r\n                '            <select class=\"form-control select-layout\">' +\r\n                '                <option value=\"\">Normal</option>' +\r\n                '                <option value=\"form-horizontal\">Horizontal</option>' +\r\n                '                <option value=\"form-inline\">Inline</option>' +\r\n                '            </select>' +\r\n                '        </div>' +\r\n                '    </div>' +\r\n                '    <div class=\"form-group select-grid-wrapper\">' +\r\n                '        <label class=\"col-sm-12\">Grid setting</label>' +\r\n                '        <div class=\"col-sm-12\">' +\r\n                '            <select class=\"form-control select-grid\">' +\r\n                '                <option value=\"2-10\">col-2 col-10</option>' +\r\n                '                <option value=\"3-9\">col-3 col-9</option>' +\r\n                '                <option value=\"4-8\">col-4 col-8</option>' +\r\n                '                <option value=\"5-7\">col-5 col-7</option>' +\r\n                '                <option value=\"6-6\">col-6 col-6</option>' +\r\n                '            </select>' +\r\n                '            <small class=\"help-block\">This setting is for width of label and control with number of cols as unit</small>' +\r\n                '        </div>' +\r\n                '    </div>' +\r\n                '</div>'\r\n            );\r\n            \r\n            \r\n            form.find('.txt-form-action').on('change', function () {\r\n                var component = keditor.getSettingComponent();\r\n                var formContent = component.find('.form-content');\r\n                \r\n                formContent.attr('action', this.value);\r\n            });\r\n            \r\n            form.find('.select-method').on('change', function () {\r\n                var component = keditor.getSettingComponent();\r\n                var formContent = component.find('.form-content');\r\n                \r\n                formContent.attr('action', this.value);\r\n            });\r\n            \r\n            form.find('.select-enctype').on('change', function () {\r\n                var component = keditor.getSettingComponent();\r\n                var formContent = component.find('.form-content');\r\n                \r\n                formContent.attr('enctype', this.value);\r\n            });\r\n            \r\n            form.find('.select-layout').on('change', function () {\r\n                var component = keditor.getSettingComponent();\r\n                var formContent = component.find('.form-content');\r\n                \r\n                formContent.removeClass('form-inline form-horizontal');\r\n                if (this.value) {\r\n                    formContent.addClass(this.value);\r\n                }\r\n                self.renderForm(component);\r\n                form.find('.select-grid-wrapper').css('display', this.value === 'form-horizontal' ? 'block' : 'none');\r\n            });\r\n            \r\n            form.find('.select-grid').on('change', function () {\r\n                var component = keditor.getSettingComponent();\r\n                var formContent = component.find('.form-content');\r\n                \r\n                formContent.attr('data-grid', this.value);\r\n                self.renderForm(component);\r\n            });\r\n        },\r\n        \r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"form\" component', component);\r\n            var formContent = component.find('.form-content');\r\n            \r\n            var layout = '';\r\n            if (formContent.hasClass('form-inline')) {\r\n                layout = 'form-inline';\r\n            } else if (formContent.hasClass('form-horizontal')) {\r\n                layout = 'form-horizontal';\r\n            }\r\n            \r\n            form.find('.txt-form-action').val(formContent.attr('action') || '');\r\n            form.find('.select-method').val(formContent.attr('method') || 'get');\r\n            form.find('.select-enctype').val(formContent.attr('enctype'));\r\n            form.find('.select-layout').val(layout);\r\n            form.find('.select-grid-wrapper').css('display', layout === 'form-horizontal' ? 'block' : 'none');\r\n            form.find('.select-grid').val(formContent.attr('data-grid') || '4-8');\r\n        }\r\n    };\r\n    \r\n})(jQuery);\r\n\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['googlemap'] = {\r\n        init: function (contentArea, container, component, keditor) {\r\n            flog('init \"googlemap\" component', component);\r\n\r\n            var iframe = component.find('iframe');\r\n            var wrapper = iframe.parent();\r\n            keditor.initIframeCover(iframe, wrapper);\r\n        },\r\n\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Google Map Settings',\r\n\r\n        initSettingForm: function (form, keditor) {\r\n            flog('initSettingForm \"googlemap\" component');\r\n\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-block btn-primary btn-googlemap-edit\">Update Map</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label class=\"col-sm-12\">Aspect Ratio</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-sm btn-default btn-googlemap-169\">16:9</button>' +\r\n                '           <button type=\"button\" class=\"btn btn-sm btn-default btn-googlemap-43\">4:3</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '</form>'\r\n            );\r\n\r\n            var btnEdit = form.find('.btn-googlemap-edit');\r\n            btnEdit.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                var inputData = prompt('Please enter Google Map embed code in here:');\r\n                var iframe = $(inputData);\r\n                var src = iframe.attr('src');\r\n                if (iframe.length > 0 && src && src.length > 0) {\r\n                    keditor.getSettingComponent().find('.embed-responsive-item').attr('src', src);\r\n                } else {\r\n                    alert('Your Google Map embed code is invalid!');\r\n                }\r\n            });\r\n\r\n            var btn169 = form.find('.btn-googlemap-169');\r\n            btn169.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                keditor.getSettingComponent().find('.embed-responsive').removeClass('embed-responsive-4by3').addClass('embed-responsive-16by9');\r\n            });\r\n\r\n            var btn43 = form.find('.btn-googlemap-43');\r\n            btn43.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                keditor.getSettingComponent().find('.embed-responsive').removeClass('embed-responsive-16by9').addClass('embed-responsive-4by3');\r\n            });\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n    \r\n    KEditor.components['photo'] = {\r\n        init: function (contentArea, container, component, keditor) {\r\n            flog('init \"photo\" component', component);\r\n            \r\n            var componentContent = component.children('.keditor-component-content');\r\n            var img = componentContent.find('img');\r\n            \r\n            img.css('display', 'inline-block');\r\n        },\r\n        \r\n        settingEnabled: true,\r\n        \r\n        settingTitle: 'Photo Settings',\r\n        \r\n        initSettingForm: function (form, keditor) {\r\n            flog('initSettingForm \"photo\" component');\r\n            \r\n            var self = this;\r\n            var options = keditor.options;\r\n            \r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-block btn-primary\" id=\"photo-edit\">Change Photo</button>' +\r\n                '           <input type=\"file\" style=\"display: none\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-align\" class=\"col-sm-12\">Align</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <select id=\"photo-align\" class=\"form-control\">' +\r\n                '               <option value=\"left\">Left</option>' +\r\n                '               <option value=\"center\">Center</option>' +\r\n                '               <option value=\"right\">Right</option>' +\r\n                '           </select>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-style\" class=\"col-sm-12\">Style</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <select id=\"photo-style\" class=\"form-control\">' +\r\n                '               <option value=\"\">None</option>' +\r\n                '               <option value=\"img-rounded\">Rounded</option>' +\r\n                '               <option value=\"img-circle\">Circle</option>' +\r\n                '               <option value=\"img-thumbnail\">Thumbnail</option>' +\r\n                '           </select>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-responsive\" class=\"col-sm-12\">Responsive</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"checkbox\" id=\"photo-responsive\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-width\" class=\"col-sm-12\">Width</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"number\" id=\"photo-width\" class=\"form-control\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-height\" class=\"col-sm-12\">Height</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"number\" id=\"photo-height\" class=\"form-control\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '</form>'\r\n            );\r\n            \r\n            var photoEdit = form.find('#photo-edit');\r\n            var fileInput = photoEdit.next();\r\n            photoEdit.on('click', function (e) {\r\n                e.preventDefault();\r\n                \r\n                fileInput.trigger('click');\r\n            });\r\n            fileInput.on('change', function () {\r\n                var file = this.files[0];\r\n                if (/image/.test(file.type)) {\r\n                    var reader = new FileReader();\r\n                    \r\n                    reader.addEventListener('load', function (e) {\r\n                        var img = keditor.getSettingComponent().find('img');\r\n                        img.attr('src', e.target.result);\r\n                        img.css({\r\n                            width: '',\r\n                            height: ''\r\n                        });\r\n                        img.load(function () {\r\n                            keditor.showSettingPanel(keditor.getSettingComponent(), options);\r\n                        });\r\n                    });\r\n                    \r\n                    reader.readAsDataURL(this.files[0]);\r\n                } else {\r\n                    alert('Your selected file is not photo!');\r\n                }\r\n            });\r\n            \r\n            var inputAlign = form.find('#photo-align');\r\n            inputAlign.on('change', function () {\r\n                var panel = keditor.getSettingComponent().find('.photo-panel');\r\n                panel.css('text-align', this.value);\r\n            });\r\n            \r\n            var inputResponsive = form.find('#photo-responsive');\r\n            inputResponsive.on('click', function () {\r\n                keditor.getSettingComponent().find('img')[this.checked ? 'addClass' : 'removeClass']('img-responsive');\r\n            });\r\n            \r\n            var cbbStyle = form.find('#photo-style');\r\n            cbbStyle.on('change', function () {\r\n                var img = keditor.getSettingComponent().find('img');\r\n                var val = this.value;\r\n                \r\n                img.removeClass('img-rounded img-circle img-thumbnail');\r\n                if (val) {\r\n                    img.addClass(val);\r\n                }\r\n            });\r\n            \r\n            var inputWidth = form.find('#photo-width');\r\n            var inputHeight = form.find('#photo-height');\r\n            inputWidth.on('change', function () {\r\n                var img = keditor.getSettingComponent().find('img');\r\n                var newWidth = +this.value;\r\n                var newHeight = Math.round(newWidth / self.ratio);\r\n                \r\n                if (newWidth <= 0) {\r\n                    newWidth = self.width;\r\n                    newHeight = self.height;\r\n                    this.value = newWidth;\r\n                }\r\n                \r\n                img.css({\r\n                    'width': newWidth,\r\n                    'height': newHeight\r\n                });\r\n                inputHeight.val(newHeight);\r\n            });\r\n            inputHeight.on('change', function () {\r\n                var img = keditor.getSettingComponent().find('img');\r\n                var newHeight = +this.value;\r\n                var newWidth = Math.round(newHeight * self.ratio);\r\n                \r\n                if (newHeight <= 0) {\r\n                    newWidth = self.width;\r\n                    newHeight = self.height;\r\n                    this.value = newHeight;\r\n                }\r\n                \r\n                img.css({\r\n                    'height': newHeight,\r\n                    'width': newWidth\r\n                });\r\n                inputWidth.val(newWidth);\r\n            });\r\n        },\r\n        \r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"photo\" component', component);\r\n            \r\n            var self = this;\r\n            var inputAlign = form.find('#photo-align');\r\n            var inputResponsive = form.find('#photo-responsive');\r\n            var inputWidth = form.find('#photo-width');\r\n            var inputHeight = form.find('#photo-height');\r\n            var cbbStyle = form.find('#photo-style');\r\n            \r\n            var panel = component.find('.photo-panel');\r\n            var img = panel.find('img');\r\n            \r\n            var algin = panel.css('text-align');\r\n            if (algin !== 'right' || algin !== 'center') {\r\n                algin = 'left';\r\n            }\r\n            \r\n            if (img.hasClass('img-rounded')) {\r\n                cbbStyle.val('img-rounded');\r\n            } else if (img.hasClass('img-circle')) {\r\n                cbbStyle.val('img-circle');\r\n            } else if (img.hasClass('img-thumbnail')) {\r\n                cbbStyle.val('img-thumbnail');\r\n            } else {\r\n                cbbStyle.val('');\r\n            }\r\n            \r\n            inputAlign.val(algin);\r\n            inputResponsive.prop('checked', img.hasClass('img-responsive'));\r\n            inputWidth.val(img.width());\r\n            inputHeight.val(img.height());\r\n            \r\n            $('<img />').attr('src', img.attr('src')).load(function () {\r\n                self.ratio = this.width / this.height;\r\n                self.width = this.width;\r\n                self.height = this.height;\r\n            });\r\n        }\r\n    };\r\n    \r\n})(jQuery);\r\n\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    CKEDITOR.disableAutoInline = true;\r\n\r\n    // Text component\r\n    // ---------------------------------------------------------------------\r\n    KEditor.components['text'] = {\r\n        options: {\r\n            toolbarGroups: [\r\n                {name: 'document', groups: ['mode', 'document', 'doctools']},\r\n                {name: 'editing', groups: ['find', 'selection', 'spellchecker', 'editing']},\r\n                {name: 'forms', groups: ['forms']},\r\n                {name: 'basicstyles', groups: ['basicstyles', 'cleanup']},\r\n                {name: 'paragraph', groups: ['list', 'indent', 'blocks', 'align', 'bidi', 'paragraph']},\r\n                {name: 'links', groups: ['links']},\r\n                {name: 'insert', groups: ['insert']},\r\n                '/',\r\n                {name: 'clipboard', groups: ['clipboard', 'undo']},\r\n                {name: 'styles', groups: ['styles']},\r\n                {name: 'colors', groups: ['colors']},\r\n                {name: 'tools', groups: ['tools']},\r\n                {name: 'others', groups: ['others']},\r\n            ],\r\n            title: false,\r\n            allowedContent: true, // DISABLES Advanced Content Filter. This is so templates with classes: allowed through\r\n            bodyId: 'editor',\r\n            templates_replaceContent: false,\r\n            enterMode: 'P',\r\n            forceEnterMode: true,\r\n            format_tags: 'p;h1;h2;h3;h4;h5;h6',\r\n            removePlugins: 'table,magicline,tabletools',\r\n            removeButtons: 'Save,NewPage,Preview,Print,Templates,PasteText,PasteFromWord,Find,Replace,SelectAll,Scayt,Form,HiddenField,ImageButton,Button,Select,Textarea,TextField,Radio,Checkbox,Outdent,Indent,Blockquote,CreateDiv,Language,Table,HorizontalRule,Smiley,SpecialChar,PageBreak,Iframe,Styles,BGColor,Maximize,About,ShowBlocks,BidiLtr,BidiRtl,Flash,Image,Subscript,Superscript,Anchor',\r\n            minimumChangeMilliseconds: 100\r\n        },\r\n\r\n        init: function (contentArea, container, component, keditor) {\r\n            flog('init \"text\" component', component);\r\n\r\n            var self = this;\r\n            var options = keditor.options;\r\n\r\n            var componentContent = component.children('.keditor-component-content');\r\n            componentContent.prop('contenteditable', true);\r\n\r\n            componentContent.on('input', function (e) {\r\n                if (typeof options.onComponentChanged === 'function') {\r\n                    options.onComponentChanged.call(contentArea, e, component);\r\n                }\r\n\r\n                if (typeof options.onContainerChanged === 'function') {\r\n                    options.onContainerChanged.call(contentArea, e, container);\r\n                }\r\n\r\n                if (typeof options.onContentChanged === 'function') {\r\n                    options.onContentChanged.call(contentArea, e);\r\n                }\r\n            });\r\n\r\n            var editor = componentContent.ckeditor(self.options).editor;\r\n            editor.on('instanceReady', function () {\r\n                flog('CKEditor is ready', component);\r\n\r\n                if (typeof options.onComponentReady === 'function') {\r\n                    options.onComponentReady.call(contentArea, component, editor);\r\n                }\r\n            });\r\n        },\r\n\r\n        getContent: function (component, keditor) {\r\n            flog('getContent \"text\" component', component);\r\n\r\n            var componentContent = component.find('.keditor-component-content');\r\n            var id = componentContent.attr('id');\r\n            var editor = CKEDITOR.instances[id];\r\n            if (editor) {\r\n                return editor.getData();\r\n            } else {\r\n                return componentContent.html();\r\n            }\r\n        },\r\n\r\n        destroy: function (component, keditor) {\r\n            flog('destroy \"text\" component', component);\r\n\r\n            var id = component.find('.keditor-component-content').attr('id');\r\n            var editor = CKEDITOR.instances[id];\r\n            if (editor) {\r\n                editor.destroy();\r\n            }\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['video'] = {\r\n        init: function (contentArea, container, component, keditor) {\r\n            flog('init \"video\" component', component);\r\n\r\n            var componentContent = component.children('.keditor-component-content');\r\n            var video = componentContent.find('video');\r\n\r\n            if (!video.parent().is('.video-wrapper')) {\r\n                video.wrap('<div class=\"video-wrapper\"></div>');\r\n            }\r\n        },\r\n\r\n        getContent: function (component, keditor) {\r\n            flog('getContent \"video\" component', component);\r\n\r\n            var componentContent = component.children('.keditor-component-content');\r\n            var video = componentContent.find('video');\r\n            video.unwrap();\r\n\r\n            return componentContent.html();\r\n        },\r\n\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Video Settings',\r\n\r\n        initSettingForm: function (form, keditor) {\r\n            flog('init \"video\" settings', form);\r\n\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '    <div class=\"form-group\">' +\r\n                '        <label for=\"videoFileInput\" class=\"col-sm-12\">Video file</label>' +\r\n                '        <div class=\"col-sm-12\">' +\r\n                '            <div class=\"video-toolbar\">' +\r\n                '                <a href=\"#\" class=\"btn-videoFileInput btn btn-sm btn-primary\"><i class=\"fa fa-upload\"></i></a>' +\r\n                '                <input id=\"videoFileInput\" type=\"file\" style=\"display: none\">' +\r\n                '            </div>' +\r\n                '        </div>' +\r\n                '    </div>' +\r\n                '    <div class=\"form-group\">' +\r\n                '        <label for=\"video-autoplay\" class=\"col-sm-12\">Autoplay</label>' +\r\n                '        <div class=\"col-sm-12\">' +\r\n                '            <input type=\"checkbox\" id=\"video-autoplay\" />' +\r\n                '        </div>' +\r\n                '    </div>' +\r\n                '    <div class=\"form-group\">' +\r\n                '        <label for=\"video-loop\" class=\"col-sm-12\">Loop</label>' +\r\n                '        <div class=\"col-sm-12\">' +\r\n                '            <input type=\"checkbox\" id=\"video-loop\" />' +\r\n                '        </div>' +\r\n                '    </div>' +\r\n                '    <div class=\"form-group\">' +\r\n                '        <label for=\"video-showcontrols\" class=\"col-sm-12\">Show Controls</label>' +\r\n                '        <div class=\"col-sm-12\">' +\r\n                '            <input type=\"checkbox\" id=\"video-showcontrols\" checked />' +\r\n                '        </div>' +\r\n                '    </div>' +\r\n                '    <div class=\"form-group\">' +\r\n                '        <label for=\"\" class=\"col-sm-12\">Ratio</label>' +\r\n                '        <div class=\"col-sm-12\">' +\r\n                '            <input type=\"radio\" name=\"video-radio\" class=\"video-ratio\" value=\"4/3\" checked /> 4:3' +\r\n                '        </div>' +\r\n                '        <div class=\"col-sm-12\">' +\r\n                '            <input type=\"radio\" name=\"video-radio\" class=\"video-ratio\" value=\"16/9\" /> 16:9' +\r\n                '        </div>' +\r\n                '    </div>' +\r\n                '    <div class=\"form-group\">' +\r\n                '        <label for=\"video-width\" class=\"col-sm-12\">Width (px)</label>' +\r\n                '        <div class=\"col-sm-12\">' +\r\n                '            <input type=\"number\" id=\"video-width\" min=\"320\" max=\"1920\" class=\"form-control\" value=\"320\" />' +\r\n                '        </div>' +\r\n                '    </div>' +\r\n                '</form>'\r\n            );\r\n        },\r\n\r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"video\" settings', form, component);\r\n\r\n            var options = keditor.options;\r\n            var video = component.find('video');\r\n            var fileInput = form.find('#videoFileInput');\r\n            var btnVideoFileInput = form.find('.btn-videoFileInput');\r\n            btnVideoFileInput.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                fileInput.trigger('click');\r\n            });\r\n            fileInput.off('change').on('change', function () {\r\n                var file = this.files[0];\r\n                if (/video/.test(file.type)) {\r\n                    // Todo: Upload to your server :)\r\n\r\n                    video.attr('src', URL.createObjectURL(file));\r\n\r\n                    video.load(function () {\r\n                        keditor.showSettingPanel(component, options);\r\n                    });\r\n                } else {\r\n                    alert('Your selected file is not an video file!');\r\n                }\r\n            });\r\n\r\n            var autoplayToggle = form.find('#video-autoplay');\r\n            autoplayToggle.off('click').on('click', function (e) {\r\n                if (this.checked) {\r\n                    video.prop('autoplay', true);\r\n                } else {\r\n                    video.removeProp('autoplay');\r\n                }\r\n            });\r\n\r\n            var loopToggle = form.find('#video-loop');\r\n            loopToggle.off('click').on('click', function (e) {\r\n                if (this.checked) {\r\n                    video.prop('loop', true);\r\n                } else {\r\n                    video.removeProp('loop');\r\n                }\r\n            });\r\n\r\n            var ratio = form.find('.video-ratio');\r\n            ratio.off('click').on('click', function (e) {\r\n                if (this.checked) {\r\n                    var currentWidth = video.css('width') || video.prop('width');\r\n                    currentWidth = currentWidth.replace('px', '');\r\n\r\n                    var currentRatio = this.value === '16/9' ? 16 / 9 : 4 / 3;\r\n                    var height = currentWidth / currentRatio;\r\n                    video.css('width', currentWidth + 'px');\r\n                    video.css('height', height + 'px');\r\n                    video.removeProp('width');\r\n                    video.removeProp('height');\r\n                }\r\n            });\r\n\r\n            var showcontrolsToggle = form.find('#video-showcontrols');\r\n            showcontrolsToggle.off('click').on('click', function (e) {\r\n                if (this.checked) {\r\n                    video.attr('controls', 'controls');\r\n                } else {\r\n                    video.removeAttr('controls');\r\n                }\r\n            });\r\n\r\n            var videoWidth = form.find('#video-width');\r\n            videoWidth.off('change').on('change', function () {\r\n                video.css('width', this.value + 'px');\r\n                var currentRatio = form.find('.video-ratio:checked').val() === '16/9' ? 16 / 9 : 4 / 3;\r\n                var height = this.value / currentRatio;\r\n                video.css('height', height + 'px');\r\n                video.removeProp('width');\r\n                video.removeProp('height');\r\n            });\r\n        }\r\n    };\r\n})(jQuery);\r\n\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['vimeo'] = {\r\n        init: function (contentArea, container, component, keditor) {\r\n            flog('init \"vimeo\" component', component);\r\n\r\n            var iframe = component.find('iframe');\r\n            var wrapper = iframe.parent();\r\n            keditor.initIframeCover(iframe, wrapper);\r\n        },\r\n\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Vimeo Settings',\r\n\r\n        initSettingForm: function (form, keditor) {\r\n            flog('initSettingForm \"vimeo\" component');\r\n\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-block btn-primary btn-vimeo-edit\">Change Video</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label class=\"col-sm-12\">Autoplay</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"checkbox\" id=\"vimeo-autoplay\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label class=\"col-sm-12\">Aspect Ratio</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-sm btn-default btn-vimeo-169\">16:9</button>' +\r\n                '           <button type=\"button\" class=\"btn btn-sm btn-default btn-vimeo-43\">4:3</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '</form>'\r\n            );\r\n\r\n            var btnEdit = form.find('.btn-vimeo-edit');\r\n            btnEdit.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                var inputData = prompt('Please enter Vimeo URL in here:');\r\n                var vimeoRegex = /https?:\\/\\/(?:www\\.|player\\.)?vimeo.com\\/(?:channels\\/(?:\\w+\\/)?|groups\\/([^\\/]*)\\/videos\\/|album\\/(\\d+)\\/video\\/|video\\/|)(\\d+)(?:$|\\/|\\?)/;\r\n                var match = inputData.match(vimeoRegex);\r\n                if (match && match[1]) {\r\n                    keditor.getSettingComponent().find('.embed-responsive-item').attr('src', 'https://player.vimeo.com/video/' + match[1] + '?byline=0&portrait=0&badge=0');\r\n                } else {\r\n                    alert('Your Vimeo URL is invalid!');\r\n                }\r\n            });\r\n\r\n            var btn169 = form.find('.btn-vimeo-169');\r\n            btn169.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                keditor.getSettingComponent().find('.embed-responsive').removeClass('embed-responsive-4by3').addClass('embed-responsive-16by9');\r\n            });\r\n\r\n            var btn43 = form.find('.btn-vimeo-43');\r\n            btn43.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                keditor.getSettingComponent().find('.embed-responsive').removeClass('embed-responsive-16by9').addClass('embed-responsive-4by3');\r\n            });\r\n\r\n            var chkAutoplay = form.find('#vimeo-autoplay');\r\n            chkAutoplay.on('click', function () {\r\n                var embedItem = keditor.getSettingComponent().find('.embed-responsive-item');\r\n                var currentUrl = embedItem.attr('src');\r\n                var newUrl = (currentUrl.replace(/(\\?.+)+/, '')) + '?byline=0&portrait=0&badge=0&autoplay=' + (chkAutoplay.is(':checked') ? 1 : 0);\r\n\r\n                flog('Current url: ' + currentUrl, 'New url: ' + newUrl);\r\n                embedItem.attr('src', newUrl);\r\n            });\r\n        },\r\n\r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"vimeo\" component', component);\r\n\r\n            var embedItem = component.find('.embed-responsive-item');\r\n            var chkAutoplay = form.find('#vimeo-autoplay');\r\n            var src = embedItem.attr('src');\r\n\r\n            chkAutoplay.prop('checked', src.indexOf('autoplay=1') !== -1);\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['youtube'] = {\r\n        init: function (contentArea, container, component, keditor) {\r\n            flog('init \"youtube\" component', component);\r\n\r\n            var iframe = component.find('iframe');\r\n            var wrapper = iframe.parent();\r\n            keditor.initIframeCover(iframe, wrapper);\r\n        },\r\n\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Youtube Settings',\r\n\r\n        initSettingForm: function (form, keditor) {\r\n            flog('initSettingForm \"youtube\" component');\r\n\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-block btn-primary btn-youtube-edit\">Change Video</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label class=\"col-sm-12\">Autoplay</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"checkbox\" id=\"youtube-autoplay\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label class=\"col-sm-12\">Aspect Ratio</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-sm btn-default btn-youtube-169\">16:9</button>' +\r\n                '           <button type=\"button\" class=\"btn btn-sm btn-default btn-youtube-43\">4:3</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '</form>'\r\n            );\r\n\r\n            var btnEdit = form.find('.btn-youtube-edit');\r\n            btnEdit.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                var inputData = prompt('Please enter Youtube URL in here:');\r\n                var youtubeRegex = /^(?:http(?:s)?:\\/\\/)?(?:www\\.)?(?:m\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:(?:watch)?\\?(?:.*&)?v(?:i)?=|(?:embed|v|vi|user)\\/))([^\\?&\\\"'>]+)/;\r\n                var match = inputData.match(youtubeRegex);\r\n                if (match && match[1]) {\r\n                    keditor.getSettingComponent().find('.embed-responsive-item').attr('src', 'https://www.youtube.com/embed/' + match[1]);\r\n                } else {\r\n                    alert('Your Youtube URL is invalid!');\r\n                }\r\n            });\r\n\r\n            var btn169 = form.find('.btn-youtube-169');\r\n            btn169.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                keditor.getSettingComponent().find('.embed-responsive').removeClass('embed-responsive-4by3').addClass('embed-responsive-16by9');\r\n            });\r\n\r\n            var btn43 = form.find('.btn-youtube-43');\r\n            btn43.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                keditor.getSettingComponent().find('.embed-responsive').removeClass('embed-responsive-16by9').addClass('embed-responsive-4by3');\r\n            });\r\n\r\n            var chkAutoplay = form.find('#youtube-autoplay');\r\n            chkAutoplay.on('click', function () {\r\n                var embedItem = keditor.getSettingComponent().find('.embed-responsive-item');\r\n                var currentUrl = embedItem.attr('src');\r\n                var newUrl = (currentUrl.replace(/(\\?.+)+/, '')) + '?autoplay=' + (chkAutoplay.is(':checked') ? 1 : 0);\r\n\r\n                flog('Current url: ' + currentUrl, 'New url: ' + newUrl);\r\n                embedItem.attr('src', newUrl);\r\n            });\r\n        },\r\n\r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"youtube\" component', component);\r\n\r\n            var embedItem = component.find('.embed-responsive-item');\r\n            var chkAutoplay = form.find('#youtube-autoplay');\r\n            var src = embedItem.attr('src');\r\n\r\n            chkAutoplay.prop('checked', src.indexOf('autoplay=1') !== -1);\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n"]}