/**!
 * KEditor - Kademi content editor
 * @copyright: Kademi (http://kademi.co)
 * @author: Kademi (http://kademi.co)
 * @version: 1.1.7
 * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap (optional), FontAwesome (optional)
 */
!function(o){var i=o.keditor,e=i.log;i.components.video={init:function(o,i,t,l){e('init "video" component',t);var c=t.children(".keditor-component-content"),n=c.find("video");n.parent().is(".video-wrapper")||n.wrap('<div class="video-wrapper"></div>')},getContent:function(o,i){e('getContent "video" component',o);var t=o.children(".keditor-component-content"),l=t.find("video");return l.unwrap(),t.html()},settingEnabled:!0,settingTitle:"Video Settings",initSettingForm:function(o,i){e('init "video" settings',o),o.append('<form class="form-horizontal">    <div class="form-group">        <label for="videoFileInput" class="col-sm-12">Video file</label>        <div class="col-sm-12">            <div class="video-toolbar">                <a href="#" class="btn-videoFileInput btn btn-sm btn-primary"><i class="fa fa-upload"></i></a>                <input id="videoFileInput" type="file" style="display: none">            </div>        </div>    </div>    <div class="form-group">        <label for="video-autoplay" class="col-sm-12">Autoplay</label>        <div class="col-sm-12">            <input type="checkbox" id="video-autoplay" />        </div>    </div>    <div class="form-group">        <label for="video-loop" class="col-sm-12">Loop</label>        <div class="col-sm-12">            <input type="checkbox" id="video-loop" />        </div>    </div>    <div class="form-group">        <label for="video-showcontrols" class="col-sm-12">Show Controls</label>        <div class="col-sm-12">            <input type="checkbox" id="video-showcontrols" checked />        </div>    </div>    <div class="form-group">        <label for="" class="col-sm-12">Ratio</label>        <div class="col-sm-12">            <input type="radio" name="video-radio" class="video-ratio" value="4/3" checked /> 4:3        </div>        <div class="col-sm-12">            <input type="radio" name="video-radio" class="video-ratio" value="16/9" /> 16:9        </div>    </div>    <div class="form-group">        <label for="video-width" class="col-sm-12">Width (px)</label>        <div class="col-sm-12">            <input type="number" id="video-width" min="320" max="1920" class="form-control" value="320" />        </div>    </div></form>')},showSettingForm:function(o,i,t){e('showSettingForm "video" settings',o,i);var l=t.options,c=i.find("video"),n=o.find("#videoFileInput"),d=o.find(".btn-videoFileInput");d.on("click",function(o){o.preventDefault(),n.trigger("click")}),n.off("change").on("change",function(){var o=this.files[0];/video/.test(o.type)?(c.attr("src",URL.createObjectURL(o)),c.load(function(){t.showSettingPanel(i,l)})):alert("Your selected file is not an video file!")});var s=o.find("#video-autoplay");s.off("click").on("click",function(o){this.checked?c.prop("autoplay",!0):c.removeProp("autoplay")});var a=o.find("#video-loop");a.off("click").on("click",function(o){this.checked?c.prop("loop",!0):c.removeProp("loop")});var r=o.find(".video-ratio");r.off("click").on("click",function(o){if(this.checked){var i=c.css("width")||c.prop("width");i=i.replace("px","");var e="16/9"===this.value?16/9:4/3,t=i/e;c.css("width",i+"px"),c.css("height",t+"px"),c.removeProp("width"),c.removeProp("height")}});var v=o.find("#video-showcontrols");v.off("click").on("click",function(o){this.checked?c.attr("controls","controls"):c.removeAttr("controls")});var p=o.find("#video-width");p.off("change").on("change",function(){c.css("width",this.value+"px");var i="16/9"===o.find(".video-ratio:checked").val()?16/9:4/3,e=this.value/i;c.css("height",e+"px"),c.removeProp("width"),c.removeProp("height")})}}}(jQuery);
//# sourceMappingURL=keditor-component-video.min.js.map
